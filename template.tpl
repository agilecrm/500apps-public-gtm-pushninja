___TERMS_OF_SERVICE___

By creating or modifying this file you agree to Google Tag Manager's Community
Template Gallery Developer Terms of Service available at
https://developers.google.com/tag-manager/gallery-tos (or such other URL as
Google may provide), as modified from time to time.


___INFO___

{
  "type": "TAG",
  "categories": "MARKETING",
  "id": "cvt_temp_public_id",
  "version": 1,
  "securityGroups": [],
  "displayName": "PushNinja by 500apps (Web Push Notifications)",
  "brand": {
    "id": "brand_dummy",
    "displayName": "",
    "thumbnail": "data:image/png;base64,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"
  },
  "description": "Send Push Notifications like a Ninja.",
  "containerContexts": [
    "WEB"
  ]
}


___TEMPLATE_PARAMETERS___

[
  {
    "type": "TEXT",
    "name": "api_key",
    "displayName": "PushNinja Key",
    "simpleValueType": true,
    "valueValidators": [
      {
        "type": "NON_EMPTY"
      }
    ],
    "help": "Please copy the PushNinja Key from the share script sidebar in the application."
  }
]


___SANDBOXED_JS_FOR_WEB_TEMPLATE___

const log = require('logToConsole');
const injectScript = require('injectScript');
const api_key = data.api_key;
const trackingUrl='https://gtm.500apps.com/gtm/push/'+api_key+'.js';
log('data = verify', trackingUrl);
injectScript(trackingUrl,data.gtmOnSuccess,data.gtmOnFailure);
// Call data.gtmOnSuccess when the tag is finished.
data.gtmOnSuccess();


___WEB_PERMISSIONS___

[
  {
    "instance": {
      "key": {
        "publicId": "logging",
        "versionId": "1"
      },
      "param": [
        {
          "key": "environments",
          "value": {
            "type": 1,
            "string": "debug"
          }
        }
      ]
    },
    "clientAnnotations": {
      "isEditedByUser": true
    },
    "isRequired": true
  },
  {
    "instance": {
      "key": {
        "publicId": "inject_script",
        "versionId": "1"
      },
      "param": [
        {
          "key": "urls",
          "value": {
            "type": 2,
            "listItem": [
              {
                "type": 1,
                "string": "https://gtm.500apps.com/gtm/*"
              }
            ]
          }
        }
      ]
    },
    "clientAnnotations": {
      "isEditedByUser": true
    },
    "isRequired": true
  }
]


___TESTS___

scenarios: []


___NOTES___

Created on 7/22/2021, 4:35:06 PM


